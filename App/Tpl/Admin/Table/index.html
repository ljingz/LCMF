<extend name="./base_datagird" />

<block name="pageHeader">
  <div class="pageHeader">
    <form method="get" action="__ACTION__" rel="pagerForm" onsubmit="return navTabSearch(this)">
    <div class="searchBar">
      <table class="searchContent">
        <tr>
          <td>
          	数据类型：
          	<select name="type">
          		<option value="">全部</option>
		      		<volist name=":data('table','type')" id="value">
							<option value="{$key}" <eq name="Think.get.type" value="$key">selected</eq>>{$value.name}</option>
							</volist>
						</select>
          </td>
          <td>
          	模型名称：
          	<input type="text" name="title" value="{$Think.get.title}"/>
          </td>
          <td>
            <div class="buttonActive"><div class="buttonContent"><button type="submit">查询</button></div></div>
          </td>
        </tr>
      </table>
    </div>
    </form>
  </div>
</block>

<block name="pageContent">
	<div class="panelBar">
		<ul class="toolBar">
			<li><a class="add" href="__URL__/add" target="navTab" title="添加模型"><span>添加</span></a></li>
			<li><a class="delete" href="__URL__/delete/tableid/{tableid}" target="ajaxTodo" title="确定要删除吗?"><span>删除</span></a></li>
			<li><a class="edit" href="__URL__/edit/tableid/{tableid}" target="navTab" title="编辑模型"><span>编辑</span></a></li>
		</ul>
	</div>

	<table class="list" width="100%" layoutH="64">
		<thead>
			<tr>
				<th width="50">ID</th>
				<th width="150">数据表名</th>
        <th width="200">模型名称</th>
				<th>描述</th>
				<th width="100">数据类型</th>
			</tr>
		</thead>
		<tbody>
    	<volist name="datas" id="vo">
			<tr target="tableid" rel="{$vo.tableid}">
      	<td>{$vo.tableid}</td>
      	<td>{$vo.name}</td>
				<td>{$vo.title}</td>
				<td>{$vo.description}</td>
				<td>{:data("table", "type", $vo["type"], "name")}</td>
			</tr>
			</volist>
		</tbody>
	</table>
</block>